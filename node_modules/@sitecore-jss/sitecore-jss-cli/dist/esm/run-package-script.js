import spawn from './spawn';
// runs a package.json script using npm
// uses yarn semantics for args (i.e. pass ['scriptname', '--myarg=value'], no -- needed)
/**
 * @param {string[]} args
 * @param {SpawnSyncOptionsWithStringEncoding} [options]
 */
export default function runPackageScript(args, options) {
    // npm needs a -- delimiter before any extra args
    const npmArgs = ['run', ...args.slice(0, 1), '--', ...args.slice(1)];
    runPackageManagerCommand(npmArgs, options);
}
// runs a package.json script using yarn or npm
// uses yarn semantics for args (i.e. pass ['scriptname', '--myarg=value'], no -- needed)
/**
 * @param {string[]} npmArgs
 * @param {SpawnSyncOptionsWithStringEncoding} options
 */
export function runPackageManagerCommand(npmArgs, options) {
    console.log(`> npm ${npmArgs.join(' ')}`);
    spawn('npm', npmArgs, options);
}
